<div class="container">
    <div class="cart-section">
        <ul>
            <li *ngFor="let cartItem of cart.items">
                <div>
                    <img [src]="cartItem.food.imageUrl" [alt]="cartItem.food.name">
                </div>
                <div>
                    <div class="food-name">
                        {{ cartItem.food.name }}
                    </div>
                </div>
                <div>
                    {{ cartItem.price | currency }}
                </div>
            </li>
        </ul>
        <div class="checkout-summary">
            <div class="food-count">
               Total Items: {{ cart.items.length }}
            </div>
            <div class="total-price">
                Total Price: ${{ cart.totalPrice }}
            </div>

            <button 
                (click)="confirmOrder()" 
                [disabled]="!userForm.valid || cart.totalPrice === 0" 
                class="confirm-order">
                Confirm Order
            </button>
        </div>
    </div>

    <div class="user-details">
        <h3>Shipping Information</h3>
        <form #userForm="ngForm">
            <div class="form-group">
                <label for="name">Name</label>
                <input 
                    type="text" 
                    id="name" 
                    [(ngModel)]="user.name" 
                    name="name" 
                    required>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <textarea 
                    id="address" 
                    [(ngModel)]="user.address" 
                    name="address" 
                    required>
                </textarea>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input 
                    type="tel" 
                    id="phone" 
                    [(ngModel)]="user.phone" 
                    name="phone" 
                    required>
            </div>
            <div class="form-group">
                <label for="shipping">Shipping Method</label>
                <select 
                    id="shipping" 
                    [(ngModel)]="user.shippingMethod" 
                    name="shipping" 
                    required>
                    <option value="standard">Standard Shipping</option>
                    <option value="express">Express Shipping</option>
                </select>
            </div>
        </form>
    </div>
</div>
